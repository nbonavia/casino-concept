<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conceptual Casino App</title>
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter font from Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a1a2e; /* Dark theme background */
            color: #ffffff;
        }
        .container {
            max-width: 1280px;
        }
        .game-card {
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
            cursor: pointer;
        }
        .game-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <!-- Top Navigation Section -->
    <header class="w-full bg-black bg-opacity-50 backdrop-blur-md shadow-lg text-white fixed top-0 left-0 z-50">
        <nav class="container mx-auto px-4 py-4 flex items-center justify-between">
            <a href="#" class="text-xl sm:text-3xl font-bold text-indigo-400">Conceptual<span class="text-purple-400">Casino</span></a>
            <div class="flex items-center space-x-2 sm:space-x-6">
                <a href="#" class="text-xs sm:text-sm font-semibold hover:text-indigo-300 transition-colors duration-200">Log in</a>
                <a href="#" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 sm:px-6 rounded-full transition-transform duration-300 transform hover:scale-105 text-xs sm:text-sm">Register</a>
            </div>
        </nav>
    </header>

    <!-- Main Content Section -->
    <main class="container mx-auto px-4 py-8 flex-grow mt-24">
        <!-- Main Banner -->
        <div class="relative w-full h-64 md:h-96 rounded-3xl overflow-hidden shadow-2xl mb-12">
            <div class="absolute inset-0 bg-gradient-to-br from-indigo-800 to-purple-900"></div>
            <div class="absolute inset-0 flex flex-col items-center justify-center text-center p-4 z-10">
                <h2 class="text-3xl md:text-6xl font-extrabold text-white leading-tight">WIN BIG TODAY</h2>
                <p class="text-lg md:text-xl text-indigo-200 mt-2">Discover a world of endless entertainment.</p>
                <!-- PWA Installation Button on mobile, hidden on larger screens -->
                <div id="pwa-install-container" class="mt-4 w-full px-4 md:hidden hidden">
                    <button id="install-button" class="w-full bg-purple-600 hover:bg-purple-700 text-white font-bold py-3 px-4 rounded-full shadow-lg transition-transform duration-300 transform hover:scale-105 text-base">
                        Install App
                    </button>
                </div>
                <!-- iOS Instructions on mobile, hidden on larger screens -->
                <div id="ios-instructions" class="hidden mt-4 w-full">
                    <p class="text-xs text-indigo-300 font-semibold text-center">
                        Tap the <span class="font-bold">Share</span> icon then <br><span class="font-bold">"Add to Home Screen"</span>
                    </p>
                </div>
                <button class="bg-yellow-400 hover:bg-yellow-500 text-black font-bold py-3 px-8 rounded-full mt-6 shadow-lg transition-transform duration-300 transform hover:scale-105 hidden md:block">
                    Explore Games
                </button>
            </div>
        </div>

        <!-- Popular Games Section -->
        <section class="mb-12">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl md:text-2xl font-bold text-gray-200">Popular Games</h3>
                <a href="#" class="text-indigo-400 hover:underline text-sm font-semibold">Show all ></a>
            </div>
            <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6">
                <!-- Placeholder Game Card -->
                <div class="game-card bg-gray-800 rounded-xl shadow-md overflow-hidden transform hover:-translate-y-2">
                    <img src="https://placehold.co/400x400/312e81/ffffff?text=Slot+Game" alt="Game Thumbnail" class="w-full h-36 object-cover">
                    <div class="p-4">
                        <h4 class="font-bold text-gray-100 text-sm">Astro Slot</h4>
                        <p class="text-xs text-gray-400 mt-1">5,000 players</p>
                    </div>
                </div>
                <div class="game-card bg-gray-800 rounded-xl shadow-md overflow-hidden transform hover:-translate-y-2">
                    <img src="https://placehold.co/400x400/8b5cf6/ffffff?text=Poker" alt="Game Thumbnail" class="w-full h-36 object-cover">
                    <div class="p-4">
                        <h4 class="font-bold text-gray-100 text-sm">Cosmic Poker</h4>
                        <p class="text-xs text-gray-400 mt-1">10 players</p>
                    </div>
                </div>
                <div class="game-card bg-gray-800 rounded-xl shadow-md overflow-hidden transform hover:-translate-y-2">
                    <img src="https://placehold.co/400x400/4c1d95/ffffff?text=Roulette" alt="Game Thumbnail" class="w-full h-36 object-cover">
                    <div class="p-4">
                        <h4 class="font-bold text-gray-100 text-sm">Galactic Roulette</h4>
                        <p class="text-xs text-gray-400 mt-1">8 players</p>
                    </div>
                </div>
                <div class="game-card bg-gray-800 rounded-xl shadow-md overflow-hidden transform hover:-translate-y-2">
                    <img src="https://placehold.co/400x400/374151/ffffff?text=Blackjack" alt="Game Thumbnail" class="w-full h-36 object-cover">
                    <div class="p-4">
                        <h4 class="font-bold text-gray-100 text-sm">Star Blackjack</h4>
                        <p class="text-xs text-gray-400 mt-1">1 player</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- New Arrival Section -->
        <section>
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl md:text-2xl font-bold text-gray-200">New Arrivals</h3>
                <a href="#" class="text-indigo-400 hover:underline text-sm font-semibold">Show all ></a>
            </div>
            <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-6">
                <!-- Placeholder Game Card -->
                <div class="game-card bg-gray-800 rounded-xl shadow-md overflow-hidden transform hover:-translate-y-2">
                    <img src="https://placehold.co/400x400/4f46e5/ffffff?text=Space+Bingo" alt="Game Thumbnail" class="w-full h-36 object-cover">
                    <div class="p-4">
                        <h4 class="font-bold text-gray-100 text-sm">Space Bingo</h4>
                        <p class="text-xs text-gray-400 mt-1">7 players</p>
                    </div>
                </div>
                <div class="game-card bg-gray-800 rounded-xl shadow-md overflow-hidden transform hover:-translate-y-2">
                    <img src="https://placehold.co/400x400/c084fc/ffffff?text=Lucky+Wheel" alt="Game Thumbnail" class="w-full h-36 object-cover">
                    <div class="p-4">
                        <h4 class="font-bold text-gray-100 text-sm">Lucky Wheel</h4>
                        <p class="text-xs text-gray-400 mt-1">2 players</p>
                    </div>
                </div>
                <div class="game-card bg-gray-800 rounded-xl shadow-md overflow-hidden transform hover:-translate-y-2">
                    <img src="https://placehold.co/400x400/6366f1/ffffff?text=Live+Dealer" alt="Game Thumbnail" class="w-full h-36 object-cover">
                    <div class="p-4">
                        <h4 class="font-bold text-gray-100 text-sm">Live Dealer</h4>
                        <p class="text-xs text-gray-400 mt-1">Live</p>
                    </div>
                </div>
            </div>
        </section>
        
    </main>

    <script>
        // Use a variable to store the beforeinstallprompt event.
        let deferredPrompt;
        const installButton = document.getElementById('install-button');
        const pwaInstallContainer = document.getElementById('pwa-install-container');
        const iosInstructions = document.getElementById('ios-instructions');
        
        // Function to check if the app is already installed
        const isInstalled = () => {
            return window.matchMedia('(display-mode: standalone)').matches;
        };

        // Check if the device is running iOS
        const isIOS = () => {
            const userAgent = window.navigator.userAgent.toLowerCase();
            return /iphone|ipad|ipod/.test(userAgent);
        };

        // This event is fired by the browser on PWA-supported devices
        window.addEventListener('beforeinstallprompt', (e) => {
            // Prevent the default browser prompt
            e.preventDefault();
            // Store the event so we can trigger it later.
            deferredPrompt = e;
            // Only show the install button if the app is not already installed.
            if (!isInstalled()) {
                pwaInstallContainer.classList.remove('hidden');
            }
        });

        // Event listener for the install button click
        installButton.addEventListener('click', (e) => {
            // Hide the button container immediately
            pwaInstallContainer.classList.add('hidden');
            
            // Show the browser installation prompt
            if (deferredPrompt) {
                deferredPrompt.prompt();
                // Check the user's choice
                deferredPrompt.userChoice.then((choiceResult) => {
                    console.log('User choice:', choiceResult.outcome);
                    // Reset deferredPrompt variable, as it can only be used once.
                    deferredPrompt = null;
                });
            }
        });

        // Event listener for when the app is successfully installed
        window.addEventListener('appinstalled', (e) => {
            console.log('App was installed');
            // Hide the install button container if the user installs it.
            pwaInstallContainer.classList.add('hidden');
        });

        // Handle the page load based on the device
        window.onload = () => {
            if (isInstalled()) {
                // If the app is already installed, hide the install button container
                pwaInstallContainer.classList.add('hidden');
            } else if (isIOS()) {
                // If it's an iOS device and not installed, show the instructions
                iosInstructions.classList.remove('hidden');
            }
        };

        // Register the Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                const serviceWorkerPath = `${document.baseURI}service-worker.js`;
                navigator.serviceWorker.register(serviceWorkerPath).then(registration => {
                    console.log('Service Worker registered with scope:', registration.scope);
                }).catch(err => {
                    console.log('Service Worker registration failed:', err);
                });
            });
        }
    </script>
</body>
</html>
